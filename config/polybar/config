; vim: set filetype=povini foldmethod=indent foldlevel=0:

; main 
[colors]
    dark0_hard = #1d2021
    dark0 = #282828
    dark0_soft = #32302f
    dark1 = #3c3836
    dark2 = #504945
    dark3 = #665c54 
    dark4 = #7c6f64
                            
    gray_245 = #928374
    gray_244 = #928374
                            
    light0_hard = #f9f5d7
    light0 = #fbf1c7
    light0_soft = #f2e5bc
    light1 = #ebdbb2
    light2 = #d5c4a1
    light3 = #bdae93
    light4 = #a89984
                            
    bright_red = #fb4934
    bright_green = #b8bb26
    bright_yellow = #fabd2f
    bright_blue = #83a598
    bright_purple = #d3869b
    bright_aqua = #8ec07c
    bright_orange = #fe8019
                            
    neutral_red = #cc241d
    neutral_green = #98971a
    neutral_yellow = #d79921
    neutral_blue = #458588
    neutral_purple = #b16286
    neutral_aqua = #689d6a
    neutral_orange = #d65d0e
                            
    faded_red = #9d0006
    faded_green = #79740e
    faded_yellow = #b57614
    faded_blue = #076678
    faded_purple = #8f3f71
    faded_aqua = #427b58
    faded_orange = #af3a03

[bar/main_bar]
    monitor = ${env:MONITOR:}
    width = 100%
    height = 28
    fixed-center = true
    background = ${colors.dark0_soft}
    foreground = ${colors.light2}
    line-size = 1
    line-color = ${colors.light2}
    padding-left = 0
    override-redirect = false
    padding-right = 2
    module-margin-left = 1
    module-margin-right = 1

    font-0 = "Meslo LG S DZ:style=Bold:size=10,2"
    font-4 = "Meslo LG S DZ:style=Regular:size=10,2"
    font-3 = "Meslo LG S DZ:style=Bold:size=9,2"

    font-1 = "Font Awesome 6 Free:style=Solid:size=11,2"
    font-2 = "Font Awesome 6 Brands:size=11,"
    font-5 = "Font Awesome 6 Brands:style=Solid:size=11,2"

    modules-left = i3
    modules-center = date time
    modules-right = pulseaudio backlight-acpi battery power-use asusctl-cpu-profile asusctl-graphics-mode asusctl-graphics-power bluetooth

    tray-position = ${env:TRAY_POS:}
    tray-padding = 5
    tray-background = ${colors.dark1}

    cursor-click = pointer
[settings]
    screenchange-reload = true
    pseudo-transparency = false
[global/wm]
    margin-top = 1
    margin-bottom = 1
    margin-right = 1
    margin-left = 1

; left
[module/i3]
    type = internal/i3

    pin-workspaces = true
    strip-wsnumbers = true
    enable-click = true
    enable-scroll = true

    format = <label-state> <label-mode> 
    format-font = 4

    label-focused = "%name%"
    label-focused-foreground = ${colors.light2}
    label-focused-underline = ${colors.light2}
    label-focused-background = ${colors.dark1}
    label-focused-padding = 1

    label-visible = "%name%"
    label-visible-foreground = ${colors.light2}
    label-visible-underline = ${colors.light2}
    label-visible-background = ${colors.dark0_soft}
    label-visible-padding = 1

    label-urgent = "%name%"
    label-urgent-foreground = ${colors.bright_orange}
    label-urgent-underline = ${colors.bright_orange}
    label-urgent-background = ${colors.faded_orange}
    label-urgent-padding = 1

    label-unfocused = "%name%"
    label-unfocused-padding = 1

; center
[module/date]
    type = internal/date
    interval = 5
    date = "%D"
    format-prefix = " "
    format-prefix-foreground = ${colors.light3}
    label = "%date%" 
[module/time]
    type = internal/date
    interval = 5
    time = "%I:%M %p"
    format-prefix = "| "
    format-prefix-foreground = ${colors.light3}
    label = " %time%"

; right 
[module/power-use]
    type = custom/script
    exec = awk '{print $1*10^-6 " W"}' /sys/class/power_supply/BAT0/power_now
    interval = 10
    format = <label>
    label = %output%
[module/asusctl-graphics-mode]
    type = custom/script
    exec = asusctl graphics -g | cut -d " " -f 4 |  sed 's/\x1B\[[0-9;]\{1,\}[A-Za-z]//g' 
    interval = 1800
    format = <label>
    label = %output%
[module/asusctl-graphics-power]
    type = custom/script
    exec = asusctl graphics -p | cut -d " " -f 4 |  sed 's/\x1B\[[0-9;]\{1,\}[A-Za-z]//g' 
    interval = 10
    format = <label>
    label = %output%
[module/asusctl-cpu-profile]
    type = custom/script
        exec = asusctl profile -a | cut -d " " -f 3 | sed 's/"//g' 
    interval = 60
    format = <label>
    label = %output%
[module/xbacklight]
    type = internal/xbacklight

    format = <label> <bar>
    label = " "
    label-foreground = ${colors.light3}

    bar-width = 10
    bar-indicator = |
    bar-indicator-foreground = ${colors.light2}
    bar-indicator-font = 2
    bar-fill = ─
    bar-fill-font = 2
    bar-fill-foreground = ${colors.light3}
    bar-empty = ─
    bar-empty-font = 2
    bar-empty-foreground = ${colors.dark2}
[module/backlight-acpi]
    inherit = module/xbacklight
    type = internal/backlight
    card = ${env:BACKLIGHT_CARD:amdgpu_bl0}

[module/pulseaudio]
    type = internal/pulseaudio

    format-volume = <label-volume> <bar-volume>
    label-volume = 
    label-volume-foreground = ${colors.light3}

    label-muted = 
    label-muted-foreground = ${colors.light3}

    click-right = pavucontrol

    bar-volume-width = 10
    bar-volume-foreground-0 = ${colors.light3}
    bar-volume-foreground-1 = ${colors.light3}
    bar-volume-foreground-2 = ${colors.light3}
    bar-volume-foreground-3 = ${colors.light3}
    bar-volume-foreground-4 = ${colors.light3}
    bar-volume-foreground-5 = ${colors.light3}
    bar-volume-foreground-6 = ${colors.light3}
    bar-volume-gradient = false
    bar-volume-indicator = |
    bar-volume-indicator-font = 2
    bar-volume-fill = ─
    bar-volume-fill-font = 2
    bar-volume-empty = ─
    bar-volume-empty-font = 2
    bar-volume-empty-foreground = ${colors.dark2}
[module/battery]
    type = internal/battery

    full-at = 99

    battery = BAT0
    adapter = AC0

    poll-interval = 5

    time-format = %H:%M

    format-charging-prefix = " "
    format-charging-prefix-foreground = ${colors.light3}
    format-charging = <label-charging>

    format-discharging = <ramp-capacity> <label-discharging>

    label-charging = %percentage%% %time%

    label-discharging = %percentage%% %time%

    label-full = %percentage%%

    ramp-capacity-0 = 
    ramp-capacity-1 = 
    ramp-capacity-2 = 
    ramp-capacity-3 = 
    ramp-capacity-4 = 
    ramp-capacity-foreground = ${colors.light3}
    bar-capacity-width = 10

    animation-charging-0 = 
    animation-charging-1 = 
    animation-charging-2 = 
    animation-charging-3 = 
    animation-charging-4 = 
    animation-charging-foreground = ${colors.light3}
    animation-charging-framerate = 3600
[module/bluetooth]
    type = custom/text
    content = 
    content-foreground = ${colors.light2}
    content-background = ${colors.dark0_soft}
    content-padding = 0
    content-font = 6
    click-left = gnome-control-center --class=floating_window bluetooth


; unused
[module/wlan]
    type = internal/network
    interface = wlan0
    interval = 3.0

    format-connected = <ramp-signal> <label-connected>
    label-connected = %essid%

    format-disconnected =

    ramp-signal-0 = 
    ramp-signal-1 = 
    ramp-signal-2 = 
    ramp-signal-3 = 
    ramp-signal-4 = 
    ramp-signal-foreground = ${colors.light3}
[module/powermenu]
    type = custom/menu

    expand-right = true

    format-spacing = 1

    label-open = 
    label-open-foreground = ${colors.light3}
    label-close =  cancel
    label-close-foreground = ${colors.light3}
    label-separator = |
    label-separator-foreground = ${colors.light3}

    menu-0-0 = reboot
    menu-0-0-exec = menu-open-1
    menu-0-1 = power off
    menu-0-1-exec = menu-open-2

    menu-1-0 = cancel
    menu-1-0-exec = menu-open-0
    menu-1-1 = reboot
    menu-1-1-exec = reboot

    menu-2-0 = power off
    menu-2-0-exec = poweroff
    menu-2-1 = cancel
    menu-2-1-exec = menu-open-0
